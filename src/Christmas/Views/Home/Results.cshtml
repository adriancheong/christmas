<style>
    table, td, th {
        border: solid;
        border-width: thin;
        padding: 10px;
    }
</style>

<h3>Number of Submissions: @ViewData["Count"]</h3>
<h2>2/3 of the Average is: @ViewData["Results"]</h2>

<div class="row">
    <div class="col-xs-6">0</div><div class="col-xs-6" align="right">100</div>
</div>
<div class="progress">
    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="@ViewData["Results"]"
         aria-valuemin="0" aria-valuemax="100" style="width:@ViewData["Results"]%">
        @ViewData["Results"]
    </div>
</div>

<div>
    <h2>Winner is @ViewData["Winner"]</h2>
</div>

<div class="form-group">
    <button type="button" class="btn btn-danger" id="btnReset" onclick="Reset()">Reset</button>
</div>

<div>
    <table id="tblSubmissions" cellspacing="100">
        <thead>
            <tr><td>Player</td><td>Submitted Value</td></tr>
        </thead>
    </table>
</div>


<script>

    function Reset () {
        var url = "/TwoThirdAverage/Reset";

        $.ajax({
            type: "POST",
            contentType: "application/json",
            url: url,
            success: function (ret) {
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log(textStatus, errorThrown);
                alert(textStatus);
                alert(errorThrown);
            },
            complete: function () {
            }
        });
    };

    function buildHtmlTable(myList) {
        for (var i = 0 ; i < myList.length ; i++) {
            var row$ = $('<tr/>');
            var cellValue = myList[i]['key'];
            if (cellValue == null) { cellValue = ""; }
            row$.append($('<td/>').html(cellValue));

            cellValue = myList[i]['value'];
            if (cellValue == null) { cellValue = ""; }
            row$.append($('<td/>').html(cellValue));

            $("#tblSubmissions").append(row$);
        }
    }

    $(function () {
        var url = "/TwoThirdAverage/Submissions";
        $.ajax({
            type: "GET",
            contentType: "application/json",
            url: url,
            success: function (ret) {
                buildHtmlTable(ret);
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log(textStatus, errorThrown);
                alert(textStatus);
                alert(errorThrown);
            },
            complete: function () {
            }
        });
    });

</script>